<Window x:Class="GGHardware.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="GGHardware" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource Background}"
        TextElement.Foreground="{DynamicResource TextPrimary}"
        FontFamily="Segoe UI">
    <Window.Resources>
        <Style x:Key="MenuButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <!-- Botón deshabilitado -->
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="#1F000000"/>
                    <!-- Gris más oscuro -->
                    <Setter Property="Opacity" Value="0.5"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition/>
            <RowDefinition Height="50"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>

        <!-- Barra superior -->
        <Border Grid.Row="0" Grid.ColumnSpan="2"
                Background="{DynamicResource PrimaryBrush}">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="3" Opacity="0.3" BlurRadius="5"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <!-- Icono -->
                    <ColumnDefinition Width="*"/>
                    <!-- Título -->
                    <ColumnDefinition Width="Auto"/>
                    <!-- Botón -->
                </Grid.ColumnDefinitions>

                <materialDesign:PackIcon Kind="Harddisk" 
                                         Width="32" Height="32"
                                         Foreground="{DynamicResource PrimaryForegroundBrush}"
                                         VerticalAlignment="Center"
                                         Margin="20,0,15,0"
                                          Grid.Column="0"/>

                <TextBlock Text="GGHardware - Dashboard"
                           Foreground="{DynamicResource PrimaryForegroundBrush}"
                           VerticalAlignment="Center"
                           FontSize="24"
                           FontWeight="SemiBold"
                           Grid.Column="1"/>
                <!-- Botón Cerrar Sesión -->
                <Button x:Name="btnCerrarSesion"
                        Content="Cerrar sesión"
                        Width="120" Height="30"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Margin="0,0,20,0"
                        Click="btnCerrarSesion_Click"
                        Visibility="Collapsed"
                        Grid.Column="2"/>
            </Grid>
        </Border>

        <!-- Menú lateral -->
        <Border Grid.Row="1" Grid.Column="0"
                Background="{DynamicResource Surface}"
                BorderThickness="0,0,1,0"
                BorderBrush="{DynamicResource TextSecondary}">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="0" ShadowDepth="2" Opacity="0.1" BlurRadius="5"/>
            </Border.Effect>
            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                          HorizontalScrollBarVisibility="Disabled"
                          >
                <StackPanel x:Name="mainMenu" Margin="0,20">

                    <!-- Título de navegación -->
                    <TextBlock Text="NAVEGACIÓN"
                               FontWeight="Bold"
                               FontSize="22"
                               Foreground="{DynamicResource TextSecondary}"
                               Margin="20,10,20,10"
                               Opacity="0.8"/>

                    <!-- Botones del menú CORREGIDOS -->
                    <Button x:Name="btnInicio" 
                            Click="btnInicio_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="Home" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Inicio" 
                                       FontWeight="Medium" FontSize="20"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="btnProductos" 
                            Click="btnProductos_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="PackageVariantClosed" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Productos" 
                                       FontWeight="Medium" FontSize="20"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="btnVentas" 
                            Click="btnVentas_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="Cart" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Ventas" 
                                       FontWeight="Medium" FontSize="20"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="btnRegistro" 
                            Click="BtnRegistro_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="Account" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Registro"  FontSize="20"
                                       FontWeight="Medium"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="btnReportes" 
                            Click="btnReportes_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="ChartBar" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Reportes" 
                                       FontWeight="Medium" FontSize="20"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="btnBackup" 
                            Click="btnBackup_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="Database" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,10"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Backup" 
                                       FontWeight="Medium" FontSize="20"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                    <!-- Separador -->
                    <Rectangle Height="1" 
                               Fill="{DynamicResource PrimaryBrush}" 
                               Opacity="0.3" 
                               Margin="15,20"/>

                    <!-- Título de configuración -->
                    <TextBlock Text="CONFIGURACIÓN"
                               FontWeight="Bold"
                               FontSize="12"
                               Foreground="{DynamicResource TextSecondary}"
                               Margin="20,10,20,10"
                               Opacity="0.8"/>

                    <Button x:Name="btnModoOscuro" 
                            Click="ToggleTheme_Click" 
                            Style="{StaticResource MenuButtonStyle}"
                            HorizontalContentAlignment="Left"
                            Foreground="{DynamicResource TextPrimary}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon Kind="WeatherNight" 
                                                     Width="22" Height="22" 
                                                     Margin="0,0,12,0"
                                                     Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                            <TextBlock Text="Modo Oscuro" 
                                       FontWeight="Medium"
                                       Foreground="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"/>
                        </StackPanel>
                    </Button>

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Área de contenido principal -->
        <Border x:Name="MainContentBorder"
                Grid.Row="1" Grid.Column="1"
                Background="{DynamicResource Surface}"
                CornerRadius="12"
                Margin="20">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="2" Opacity="0.1" BlurRadius="10"/>
            </Border.Effect>

            <!-- Contenido de ejemplo -->
            <TextBlock Text="Contenido Principal"
                       FontSize="28"
                       FontWeight="Light"
                       Foreground="{DynamicResource TextPrimary}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Opacity="0.6"/>
        </Border>

        <!-- Barra inferior -->
        <Border Grid.Row="2" Grid.ColumnSpan="2"
                Background="{DynamicResource PrimaryBrush}">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="90" ShadowDepth="2" Opacity="0.2" BlurRadius="3"/>
            </Border.Effect>
            <TextBlock Text="© 2025 GGHardware | Todos los derechos reservados"
                       Foreground="{DynamicResource PrimaryForegroundBrush}"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       FontSize="13"
                       FontWeight="Medium"
                       Opacity="0.9"/>
        </Border>
    </Grid>
</Window>